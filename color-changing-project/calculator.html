<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .main {
            display: flex;
            flex-direction: column;
            /* justify-content: center; */
            /* align-items: center; */
            border: 2px solid gray;
            margin-left: 600px;
            margin-right: 650px;
            width: 400px;
            height: 400px;
            border-radius: 8px;
            /* margin-bottom: ; */

        }

        .col1 {
            display: flex;
            flex-direction: column;
        }

        .top {
            margin-left: 10px;
            margin-right: 10px;
            border-radius: 10px;
        }

        .bottom {
            display: flex;
            margin-top: 20px;
            padding-left: 5px;
            padding-right: 20px;
        }

        .content input {
            width: 380px;
            height: 60px;
            margin-top: 10px;
            background-color: rgb(156, 155, 155);
            border-radius: 10px;
            border: none;

            /* padding-top: 30px; */
        }

        .box1 {
            width: 65px;
            height: 50px;
            margin-left: 20px;
            margin-right: 10px;
            margin-bottom: 10px;
            background-color: rgb(251, 247, 242);
            border: 1px solid rgb(227, 221, 213);

        }

        .box {
            width: 65px;
            margin-top: 7px;
            height: 222px;
            margin-left: 20px;
            background-color: rgb(0, 123, 255);
            border: none;
        }

        .hed {
            text-align: center;
            margin-left: 50px;

        }
    </style>
</head>

<body>
    <h2 class="hed">Calculator</h2>
    <div class="main">
        <div class="top">
            <div class="content col1">
                <input id="input" type="number">
            </div>
        </div>
        <div class="bottom">
            <div class="col1">

                <button class="box1 btn">+</button>
                <button class="box1 btn">7</button>
                <button class="box1 btn">4</button>
                <button class="box1 btn">1</button>
                <button class="box1 btn">0</button>

            </div>
            <div class="col1">
                <button class="box1  btn">-</button>
                <button class="box1 btn">8</button>
                <button class="box1 btn">5</button>
                <button class="box1  btn">2</button>
                <button class="box1  btn">.</button>
            </div>
            <div class="col1">
                <button class="box1 btn">x</button>
                <button class="box1 btn">9</button>
                <button class="box1 btn">6</button>
                <button class="box1 btn">3</button>
                <button class="box1 btn">C</button>
            </div>

            <div class="col1">
                <button class="box1 btn">/</button>
                <button class="box btn">=</button>
            </div>
        </div>
    </div>


    <script>
    
  let display = document.querySelector("input");
  let buttons = document.querySelectorAll("button");
  let expression = "";

  buttons.forEach((btn) => {
    btn.addEventListener("click", () => {
      let value = btn.textContent;
      let lastChar = expression.slice(-1); // last character check

      if (value === "C") {
        expression = "";
        display.value = "";
      } 
      else if (value === "=") {
        try {
          display.value = eval(expression);
          expression = display.value;
        } catch {
          display.value = "Error";
          expression = "";
        }
      } 
      else if (value === "x") {
        // multiply handle
        if ("+-*/".includes(lastChar)) {
          expression = expression.slice(0, -1) + "*";
        } else {
          expression += "*";
        }
        display.value = expression;
      } 
      else if (value === "+" || value === "-") {
        // + and - operator handling
        if ("+-*/".includes(lastChar)) {
          expression = expression.slice(0, -1) + value;
        } else {
          expression += value;
        }
        display.value = expression;
      } 
      else {
        expression += value;
        display.value = expression;
      }
    });
  });
</script>
  

   
</body>

</html>